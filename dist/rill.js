!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.rill=t()}}(function(){var t;return function e(t,r,n){function o(s,a){if(!r[s]){if(!t[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(i)return i(s,!0);var h=new Error("Cannot find module '"+s+"'");throw h.code="MODULE_NOT_FOUND",h}var f=r[s]={exports:{}};t[s][0].call(f.exports,function(e){var r=t[s][1][e];return o(r?r:e)},f,f.exports,e,t,r,n)}return r[s].exports}for(var i="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(t,e){"use strict";function r(t){if(!Array.isArray(t))throw new TypeError("Rill: Middleware stack must be an array.");var e=n(t,[]);return function(t,r){function n(i){if(o>=i)return Promise.reject(new Error("Rill: next() called multiple times."));var s=e[i]||r;if(o=i,!s)return Promise.resolve();try{return Promise.resolve(s(t,function(){return n(i+1)}))}catch(a){return Promise.reject(a)}}var o=-1;return n(0)}}function n(t,e){for(var r,o=t.length,i=0;o>i;i++)if(r=t[i])if("function"==typeof r)e.push(r);else if(Array.isArray(r))n(r,e);else{if(!Array.isArray(r.stack))throw new TypeError("Rill: Middleware must be an functions. Got a ["+r.constructor.name+"].");n(r.stack,e)}return e}e.exports=r},{}],2:[function(t,e){"use strict";function r(t,e,n){if("number"!=typeof t)throw new TypeError("Rill#HttpError.fail: Status code must be a number.");this.name="HttpError",this.code=t,this.message=e||i[t];for(var o in n)this[o]=n[o];Error.captureStackTrace?Error.captureStackTrace(this,r):Error.call(this)}function n(t,e,n){throw new r(t,e,n)}function o(t,e,r,o){t||n(e,r,o)}var i=t(5).STATUS_CODES;r.prototype=new Error,r.fail=n,r.assert=o,e.exports=r},{5:5}],3:[function(t,e){(function(r){"use strict";function n(t){return t._referrer=w&&w.referrer,t._pending_refresh=null,t._onHistory=u.bind(t),t._onSubmit=h.bind(t),t._onClick=f.bind(t),l(t,"once","listening",o),l(t,"once","close",i),t}function o(){d.addEventListener("popstate",this._onHistory),d.addEventListener("submit",this._onSubmit),d.addEventListener("click",this._onClick),l(this,"on","request",s),this._pending_load=setTimeout(this._onHistory,0)}function i(){d.removeEventListener("popstate",this._onHistory),d.removeEventListener("submit",this._onSubmit),d.removeEventListener("click",this._onClick),this.removeListener("request",s),clearTimeout(this._pending_load),clearTimeout(this._pending_refresh)}function s(t,e){t.headers.referer=t.headers.referer||t.socket.server._referrer,e.once("finish",a.bind(null,t,e))}function a(t,e){var r=t._request.parsed,n=t.socket.server;clearTimeout(n._pending_refresh);var o=e.getHeader("set-cookie");if(o&&o.length)if("string"==typeof o)w.cookie=o;else for(var i=0;i<o.length;i++)w.cookie=o[i];var s=e.getHeader("refresh");if(s){var a=s.split(" url="),u=1e3*parseInt(a[0],10),h=a[1];n._pending_refresh=setTimeout(c.bind(null,n,h),u)}if("GET"===t.method&&!e.getHeader("location")){if(t._scroll!==!1)if(null==r.hash)d.scrollTo(0,0);else{var f=w.getElementById(r.hash.slice(1));f&&f.scrollIntoView&&f.scrollIntoView({block:"start",behavior:E.pathname===r.pathname&&(E.search||"")===(r.search||"")?"smooth":"auto"})}t.headers.referer!==t.url&&(n._referrer=t.url,t._history!==!1&&y.pushState(null,w.title,t.url))}}function u(){c(this,E.href,{scroll:!1,history:!1})}function h(t){if(!t.defaultPrevented){var e=t.target,r=e.action||e.getAttribute("action")||"",n=(e.method||e.getAttribute("method")||"GET").toUpperCase(),o=e.enctype||e.getAttribute("enctype")||"application/x-www-form-urlencoded";if(!(e.target&&"_self"!==e.target||(b.href=r,b.host&&b.host!==E.host||b.protocol&&":"!==b.protocol&&b.protocol!==E.protocol))){t.preventDefault();var i=g(e,!0);if("GET"===n){var s=p.parse(r);delete s.search,s.query=i.body,c(this,p.format(s))}else c(this,r,{method:n,headers:{"content-type":o},form:i});e.hasAttribute("data-noreset")||e.reset()}}}function f(t){if(!(t.defaultPrevented||t.metaKey||t.ctrlKey||t.shiftKey||0!==t.button)){for(var e=t.target;null!=e&&"A"!==e.nodeName;)e=e.parentNode;e&&e.href&&(e.target&&"_self"!==e.target||e.rel&&"external"===e.rel||e.host&&e.host!==E.host||e.protocol&&":"!==e.protocol&&e.protocol!==E.protocol||e.hasAttribute("download")||(t.preventDefault(),c(this,e.href)))}}function c(t,e,n){var o=e instanceof x?e:new x(p.resolve(E.href,e),n);o.parsed=p.parse(o.url);var i=m._createIncomingMessage(o,t,n),s=v._createServerResponse(i);return new Promise(function(e){s.once("finish",function(){i.complete=!0,i.emit("end");var n=s.getHeader("location");return e(!n||void 0!==o.redirect&&"follow"!==o.redirect?new _(r.concat(s._body).buffer,{url:o.url,status:s.statusCode,statusText:s.statusMessage,headers:new A(s._headers)}):c(t,n))}),t.emit("request",i,s)})}function l(t,e,r,n){t[e](r,n);var o=t._events[r];Array.isArray(o)&&o.unshift(o.pop())}var p=t(32),d=t(18),g=t(23),m=t(4),v=t(6),y=d.history,w=d.document,b=w.createElement("a"),E=d.history&&d.history.location||d.location||{href:""},x=d.Request,A=d.Headers,_=d.Response;e.exports=n,e.exports.fetch=c}).call(this,t(11).Buffer)},{11:11,18:18,23:23,32:32,4:4,6:6}],4:[function(t,e){"use strict";function r(t){this.headers={},this.socket=this.connection=t}function n(t,e,n){var o=new r({server:e,remoteAddress:"127.0.0.1",encrypted:"https:"===t.parsed.protocol}),i=t.parsed,s=o.headers;return s.referer=s.referer||t.referrer,s.date=s.date||(new Date).toUTCString(),s.host=s.host||i.host,s.cookie=s.cookie||document.cookie,s["user-agent"]=s["user-agent"]||navigator.userAgent,s["accept-language"]=s["accept-language"]||navigator.language,s.connection=s.connection||"keep-alive",s["cache-control"]=s["cache-control"]||"max-age=0",s.accept=s.accept||"*/*",t.headers.forEach(function(t,e){s[e]=t}),o.url=i.path+(i.hash||""),o.method=t.method,o._request=t,n&&(n.form&&(o.body=n.form.body,o.files=n.form.files),o._scroll=n.scroll,o._history=n.history),o}var o=t(17).EventEmitter,i=r.prototype=Object.create(o.prototype);r._createIncomingMessage=n,e.exports=r,i.httpVersionMajor=1,i.httpVersionMinor=1,i.httpVersion=i.httpVersionMajor+"."+i.httpVersionMinor,i.complete=!1,i.url=""},{17:17}],5:[function(t,e){"use strict";var r=t(7),n=t(4),o=t(6),i=t(30),s=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"];e.exports={STATUS_CODES:i,METHODS:s,Server:r,IncomingMessage:n,ServerResponse:o,createServer:function(){var t=arguments[arguments.length-1];return new r(t)}}},{30:30,4:4,6:6,7:7}],6:[function(t,e){"use strict";function r(){}function n(t){this._headers={},this.socket=this.connection=t.socket}function o(t){var e=new n(t);return e._body=[],e}var i=t(11).Buffer,s=t(17).EventEmitter,a=t(30),u=n.prototype=Object.create(s.prototype);n._createServerResponse=o,e.exports=n,u.statusCode=null,u.statusMessage=null,u.sendDate=!0,u.finished=!1,u.writeContinue=u.setTimeout=u.addTrailers=r,u.write=function(t,e,r){this._body.push(i.from(t)),"function"==typeof e&&(r=e,e=null),"function"==typeof r&&this.once("finish",r)},u.writeHead=function(t,e,r){if(!this.finished&&(this.statusCode=t,this.headersSent=!0,e&&("object"==typeof e?r=e:this.statusMessage=e),"object"==typeof r))for(var n in r)this.setHeader(n,r[n])},u.getHeader=function(t){return this._headers[t.toLowerCase()]},u.removeHeader=function(t){delete this._headers[t.toLowerCase()]},u.setHeader=function(t,e){this._headers[t.toLowerCase()]=e},u.end=function(t,e,r){this.finished||("function"==typeof t?(r=t,t=null):"function"==typeof e&&(r=e,e=null),null!=t&&this._body.push(i.from(t)),"function"==typeof r&&this.once("finish",r),null==this.statusMessage&&(this.statusMessage=a[this.statusCode]),this.sendDate&&(this._headers.date=(new Date).toUTCString()),this._headers.status=this.statusCode,this.headersSent=!0,this.finished=!0,this.body=i.concat(this._body),this.emit("finish"))}},{11:11,17:17,30:30}],7:[function(t,e){"use strict";function r(t){t&&this.on("request",t)}var n=t(17).EventEmitter,o=r.prototype=Object.create(n.prototype);o.listen=function(){var t=arguments[arguments.length-1];return"function"==typeof t&&this.once("listening",t),setTimeout(function(){this.listening=!0,this.emit("listening")}.bind(this),0),this},o.close=function(){var t=arguments[arguments.length-1];return"function"==typeof t&&this.once("close",t),setTimeout(function(){this.listening=!1,this.emit("close")}.bind(this),0),this},e.exports=r},{17:17}],8:[function(t,e){"use strict";e.exports=t(5)},{5:5}],9:[function(t,e,r){"use strict";function n(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===t[e-2]?2:"="===t[e-1]?1:0}function o(t){return 3*t.length/4-n(t)}function i(t){var e,r,o,i,s,a,u=t.length;s=n(t),a=new c(3*u/4-s),o=s>0?u-4:u;var h=0;for(e=0,r=0;o>e;e+=4,r+=3)i=f[t.charCodeAt(e)]<<18|f[t.charCodeAt(e+1)]<<12|f[t.charCodeAt(e+2)]<<6|f[t.charCodeAt(e+3)],a[h++]=i>>16&255,a[h++]=i>>8&255,a[h++]=255&i;return 2===s?(i=f[t.charCodeAt(e)]<<2|f[t.charCodeAt(e+1)]>>4,a[h++]=255&i):1===s&&(i=f[t.charCodeAt(e)]<<10|f[t.charCodeAt(e+1)]<<4|f[t.charCodeAt(e+2)]>>2,a[h++]=i>>8&255,a[h++]=255&i),a}function s(t){return h[t>>18&63]+h[t>>12&63]+h[t>>6&63]+h[63&t]}function a(t,e,r){for(var n,o=[],i=e;r>i;i+=3)n=(t[i]<<16)+(t[i+1]<<8)+t[i+2],o.push(s(n));return o.join("")}function u(t){for(var e,r=t.length,n=r%3,o="",i=[],s=16383,u=0,f=r-n;f>u;u+=s)i.push(a(t,u,u+s>f?f:u+s));return 1===n?(e=t[r-1],o+=h[e>>2],o+=h[e<<4&63],o+="=="):2===n&&(e=(t[r-2]<<8)+t[r-1],o+=h[e>>10],o+=h[e>>4&63],o+=h[e<<2&63],o+="="),i.push(o),i.join("")}r.byteLength=o,r.toByteArray=i,r.fromByteArray=u;for(var h=[],f=[],c="undefined"!=typeof Uint8Array?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=0,d=l.length;d>p;++p)h[p]=l[p],f[l.charCodeAt(p)]=p;f["-".charCodeAt(0)]=62,f["_".charCodeAt(0)]=63},{}],10:[function(t,e){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function o(t){if(f===setTimeout)return setTimeout(t,0);if((f===r||!f)&&setTimeout)return f=setTimeout,setTimeout(t,0);try{return f(t,0)}catch(e){try{return f.call(null,t,0)}catch(e){return f.call(this,t,0)}}}function i(t){if(c===clearTimeout)return clearTimeout(t);if((c===n||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(t);try{return c(t)}catch(e){try{return c.call(null,t)}catch(e){return c.call(this,t)}}}function s(){g&&p&&(g=!1,p.length?d=p.concat(d):m=-1,d.length&&a())}function a(){if(!g){var t=o(s);g=!0;for(var e=d.length;e;){for(p=d,d=[];++m<e;)p&&p[m].run();m=-1,e=d.length}p=null,g=!1,i(t)}}function u(t,e){this.fun=t,this.array=e}function h(){}var f,c,l=e.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:r}catch(t){f=r}try{c="function"==typeof clearTimeout?clearTimeout:n}catch(t){c=n}}();var p,d=[],g=!1,m=-1;l.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];d.push(new u(t,e)),1!==d.length||g||o(a)},u.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=h,l.addListener=h,l.once=h,l.off=h,l.removeListener=h,l.removeAllListeners=h,l.emit=h,l.binding=function(){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},{}],11:[function(t,e,r){"use strict";function n(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()}catch(e){return!1}}function o(t){if(t>X)throw new RangeError("Invalid typed array length");var e=new Uint8Array(t);return e.__proto__=i.prototype,e}function i(t,e,r){if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return h(t)}return s(t,e,r)}function s(t,e,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?l(t,e,r):"string"==typeof t?f(t,e):p(t)}function a(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(0>t)throw new RangeError('"size" argument must not be negative')}function u(t,e,r){return a(t),0>=t?o(t):void 0!==e?"string"==typeof r?o(t).fill(e,r):o(t).fill(e):o(t)}function h(t){return a(t),o(0>t?0:0|d(t))}function f(t,e){if(("string"!=typeof e||""===e)&&(e="utf8"),!i.isEncoding(e))throw new TypeError('"encoding" must be a valid string encoding');var r=0|m(t,e),n=o(r),s=n.write(t,e);return s!==r&&(n=n.slice(0,s)),n}function c(t){for(var e=t.length<0?0:0|d(t.length),r=o(e),n=0;e>n;n+=1)r[n]=255&t[n];return r}function l(t,e,r){if(t.byteLength,0>e||t.byteLength<e)throw new RangeError("'offset' is out of bounds");if(t.byteLength<e+(r||0))throw new RangeError("'length' is out of bounds");var n;return n=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r),n.__proto__=i.prototype,n}function p(t){if(i.isBuffer(t)){var e=0|d(t.length),r=o(e);return 0===r.length?r:(t.copy(r,0,0,e),r)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||G(t.length)?o(0):c(t);if("Buffer"===t.type&&Array.isArray(t.data))return c(t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function d(t){if(t>=X)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+X.toString(16)+" bytes");return 0|t}function g(t){return+t!=t&&(t=0),i.alloc(+t)}function m(t,e){if(i.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return D(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return $(t).length;default:if(n)return D(t).length;e=(""+e).toLowerCase(),n=!0}}function v(t,e,r){var n=!1;if((void 0===e||0>e)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),0>=r)return"";if(r>>>=0,e>>>=0,e>=r)return"";for(t||(t="utf8");;)switch(t){case"hex":return I(this,e,r);case"utf8":case"utf-8":return R(this,e,r);case"ascii":return k(this,e,r);case"latin1":case"binary":return O(this,e,r);case"base64":return S(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function y(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function w(t,e,r,n,o){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:-2147483648>r&&(r=-2147483648),r=+r,isNaN(r)&&(r=o?0:t.length-1),0>r&&(r=t.length+r),r>=t.length){if(o)return-1;r=t.length-1}else if(0>r){if(!o)return-1;r=0}if("string"==typeof e&&(e=i.from(e,n)),i.isBuffer(e))return 0===e.length?-1:b(t,e,r,n,o);if("number"==typeof e)return e=255&e,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):b(t,[e],r,n,o);throw new TypeError("val must be string, number or Buffer")}function b(t,e,r,n,o){function i(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}var s=1,a=t.length,u=e.length;if(void 0!==n&&(n=String(n).toLowerCase(),"ucs2"===n||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;s=2,a/=2,u/=2,r/=2}var h;if(o){var f=-1;for(h=r;a>h;h++)if(i(t,h)===i(e,-1===f?0:h-f)){if(-1===f&&(f=h),h-f+1===u)return f*s}else-1!==f&&(h-=h-f),f=-1}else for(r+u>a&&(r=a-u),h=r;h>=0;h--){for(var c=!0,l=0;u>l;l++)if(i(t,h+l)!==i(e,l)){c=!1;break}if(c)return h}return-1}function E(t,e,r,n){r=Number(r)||0;var o=t.length-r;n?(n=Number(n),n>o&&(n=o)):n=o;var i=e.length;if(i%2!==0)throw new TypeError("Invalid hex string");n>i/2&&(n=i/2);for(var s=0;n>s;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[r+s]=a}return s}function x(t,e,r,n){return V(D(e,t.length-r),t,r,n)}function A(t,e,r,n){return V(z(e),t,r,n)}function _(t,e,r,n){return A(t,e,r,n)}function T(t,e,r,n){return V($(e),t,r,n)}function C(t,e,r,n){return V(K(e,t.length-r),t,r,n)}function S(t,e,r){return Y.fromByteArray(0===e&&r===t.length?t:t.slice(e,r))}function R(t,e,r){r=Math.min(t.length,r);for(var n=[],o=e;r>o;){var i=t[o],s=null,a=i>239?4:i>223?3:i>191?2:1;if(r>=o+a){var u,h,f,c;switch(a){case 1:128>i&&(s=i);break;case 2:u=t[o+1],128===(192&u)&&(c=(31&i)<<6|63&u,c>127&&(s=c));break;case 3:u=t[o+1],h=t[o+2],128===(192&u)&&128===(192&h)&&(c=(15&i)<<12|(63&u)<<6|63&h,c>2047&&(55296>c||c>57343)&&(s=c));break;case 4:u=t[o+1],h=t[o+2],f=t[o+3],128===(192&u)&&128===(192&h)&&128===(192&f)&&(c=(15&i)<<18|(63&u)<<12|(63&h)<<6|63&f,c>65535&&1114112>c&&(s=c))}}null===s?(s=65533,a=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|1023&s),n.push(s),o+=a}return L(n)}function L(t){var e=t.length;if(Z>=e)return String.fromCharCode.apply(String,t);for(var r="",n=0;e>n;)r+=String.fromCharCode.apply(String,t.slice(n,n+=Z));return r}function k(t,e,r){var n="";r=Math.min(t.length,r);for(var o=e;r>o;++o)n+=String.fromCharCode(127&t[o]);return n}function O(t,e,r){var n="";r=Math.min(t.length,r);for(var o=e;r>o;++o)n+=String.fromCharCode(t[o]);return n}function I(t,e,r){var n=t.length;(!e||0>e)&&(e=0),(!r||0>r||r>n)&&(r=n);for(var o="",i=e;r>i;++i)o+=F(t[i]);return o}function U(t,e,r){for(var n=t.slice(e,r),o="",i=0;i<n.length;i+=2)o+=String.fromCharCode(n[i]+256*n[i+1]);return o}function j(t,e,r){if(t%1!==0||0>t)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function B(t,e,r,n,o,s){if(!i.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||s>e)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function N(t,e,r,n){if(r+n>t.length)throw new RangeError("Index out of range");if(0>r)throw new RangeError("Index out of range")}function M(t,e,r,n,o){return e=+e,r>>>=0,o||N(t,e,r,4,3.4028234663852886e38,-3.4028234663852886e38),J.write(t,e,r,n,23,4),r+4}function q(t,e,r,n,o){return e=+e,r>>>=0,o||N(t,e,r,8,1.7976931348623157e308,-1.7976931348623157e308),J.write(t,e,r,n,52,8),r+8}function P(t){if(t=H(t).replace(Q,""),t.length<2)return"";for(;t.length%4!==0;)t+="=";return t}function H(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function F(t){return 16>t?"0"+t.toString(16):t.toString(16)}function D(t,e){e=e||1/0;for(var r,n=t.length,o=null,i=[],s=0;n>s;++s){if(r=t.charCodeAt(s),r>55295&&57344>r){if(!o){if(r>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(s+1===n){(e-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(56320>r){(e-=3)>-1&&i.push(239,191,189),o=r;continue}r=(o-55296<<10|r-56320)+65536}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,128>r){if((e-=1)<0)break;i.push(r)}else if(2048>r){if((e-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(65536>r){if((e-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(1114112>r))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function z(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}function K(t,e){for(var r,n,o,i=[],s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),n=r>>8,o=r%256,i.push(o),i.push(n);return i}function $(t){return Y.toByteArray(P(t))}function V(t,e,r,n){for(var o=0;n>o&&!(o+r>=e.length||o>=t.length);++o)e[o+r]=t[o];return o}function G(t){return t!==t}var Y=t(9),J=t(20);r.Buffer=i,r.SlowBuffer=g,r.INSPECT_MAX_BYTES=50;var X=2147483647;r.kMaxLength=X,i.TYPED_ARRAY_SUPPORT=n(),!i.TYPED_ARRAY_SUPPORT,"undefined"!=typeof Symbol&&Symbol.species&&i[Symbol.species]===i&&Object.defineProperty(i,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),i.poolSize=8192,i.from=function(t,e,r){return s(t,e,r)},i.prototype.__proto__=Uint8Array.prototype,i.__proto__=Uint8Array,i.alloc=function(t,e,r){return u(t,e,r)},i.allocUnsafe=function(t){return h(t)},i.allocUnsafeSlow=function(t){return h(t)},i.isBuffer=function(t){return!(null==t||!t._isBuffer)},i.compare=function(t,e){if(!i.isBuffer(t)||!i.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,o=0,s=Math.min(r,n);s>o;++o)if(t[o]!==e[o]){r=t[o],n=e[o];break}return n>r?-1:r>n?1:0},i.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return i.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=i.allocUnsafe(e),o=0;for(r=0;r<t.length;++r){var s=t[r];if(!i.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(n,o),o+=s.length}return n},i.byteLength=m,i.prototype._isBuffer=!0,i.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;t>e;e+=2)y(this,e,e+1);return this},i.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;t>e;e+=4)y(this,e,e+3),y(this,e+1,e+2);return this},i.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;t>e;e+=8)y(this,e,e+7),y(this,e+1,e+6),y(this,e+2,e+5),y(this,e+3,e+4);return this},i.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?R(this,0,t):v.apply(this,arguments)},i.prototype.equals=function(t){if(!i.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:0===i.compare(this,t)},i.prototype.inspect=function(){var t="",e=r.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},i.prototype.compare=function(t,e,r,n,o){if(!i.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),0>e||r>t.length||0>n||o>this.length)throw new RangeError("out of range index");if(n>=o&&e>=r)return 0;if(n>=o)return-1;if(e>=r)return 1;if(e>>>=0,r>>>=0,n>>>=0,o>>>=0,this===t)return 0;for(var s=o-n,a=r-e,u=Math.min(s,a),h=this.slice(n,o),f=t.slice(e,r),c=0;u>c;++c)if(h[c]!==f[c]){s=h[c],a=f[c];break}return a>s?-1:s>a?1:0},i.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},i.prototype.indexOf=function(t,e,r){return w(this,t,e,r,!0)},i.prototype.lastIndexOf=function(t,e,r){return w(this,t,e,r,!1)},i.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var o=this.length-e;if((void 0===r||r>o)&&(r=o),t.length>0&&(0>r||0>e)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return E(this,t,e,r);case"utf8":case"utf-8":return x(this,t,e,r);case"ascii":return A(this,t,e,r);case"latin1":case"binary":return _(this,t,e,r);case"base64":return T(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,e,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Z=4096;i.prototype.slice=function(t,e){var r=this.length;t=~~t,e=void 0===e?r:~~e,0>t?(t+=r,0>t&&(t=0)):t>r&&(t=r),0>e?(e+=r,0>e&&(e=0)):e>r&&(e=r),t>e&&(e=t);var n=this.subarray(t,e);return n.__proto__=i.prototype,n},i.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||j(t,e,this.length);for(var n=this[t],o=1,i=0;++i<e&&(o*=256);)n+=this[t+i]*o;return n},i.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||j(t,e,this.length);for(var n=this[t+--e],o=1;e>0&&(o*=256);)n+=this[t+--e]*o;return n},i.prototype.readUInt8=function(t,e){return t>>>=0,e||j(t,1,this.length),this[t]},i.prototype.readUInt16LE=function(t,e){return t>>>=0,e||j(t,2,this.length),this[t]|this[t+1]<<8},i.prototype.readUInt16BE=function(t,e){return t>>>=0,e||j(t,2,this.length),this[t]<<8|this[t+1]},i.prototype.readUInt32LE=function(t,e){return t>>>=0,e||j(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},i.prototype.readUInt32BE=function(t,e){return t>>>=0,e||j(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},i.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||j(t,e,this.length);for(var n=this[t],o=1,i=0;++i<e&&(o*=256);)n+=this[t+i]*o;return o*=128,n>=o&&(n-=Math.pow(2,8*e)),n},i.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||j(t,e,this.length);for(var n=e,o=1,i=this[t+--n];n>0&&(o*=256);)i+=this[t+--n]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*e)),i},i.prototype.readInt8=function(t,e){return t>>>=0,e||j(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},i.prototype.readInt16LE=function(t,e){t>>>=0,e||j(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},i.prototype.readInt16BE=function(t,e){t>>>=0,e||j(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},i.prototype.readInt32LE=function(t,e){return t>>>=0,e||j(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},i.prototype.readInt32BE=function(t,e){return t>>>=0,e||j(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},i.prototype.readFloatLE=function(t,e){return t>>>=0,e||j(t,4,this.length),J.read(this,t,!0,23,4)},i.prototype.readFloatBE=function(t,e){return t>>>=0,e||j(t,4,this.length),J.read(this,t,!1,23,4)},i.prototype.readDoubleLE=function(t,e){return t>>>=0,e||j(t,8,this.length),J.read(this,t,!0,52,8)},i.prototype.readDoubleBE=function(t,e){return t>>>=0,e||j(t,8,this.length),J.read(this,t,!1,52,8)},i.prototype.writeUIntLE=function(t,e,r,n){if(t=+t,e>>>=0,r>>>=0,!n){var o=Math.pow(2,8*r)-1;B(this,t,e,r,o,0)}var i=1,s=0;for(this[e]=255&t;++s<r&&(i*=256);)this[e+s]=t/i&255;return e+r},i.prototype.writeUIntBE=function(t,e,r,n){if(t=+t,e>>>=0,r>>>=0,!n){var o=Math.pow(2,8*r)-1;B(this,t,e,r,o,0)}var i=r-1,s=1;for(this[e+i]=255&t;--i>=0&&(s*=256);)this[e+i]=t/s&255;return e+r},i.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||B(this,t,e,1,255,0),this[e]=255&t,e+1},i.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||B(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},i.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||B(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},i.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||B(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},i.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||B(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},i.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){var o=Math.pow(2,8*r-1);B(this,t,e,r,o-1,-o)}var i=0,s=1,a=0;for(this[e]=255&t;++i<r&&(s*=256);)0>t&&0===a&&0!==this[e+i-1]&&(a=1),this[e+i]=(t/s>>0)-a&255;return e+r},i.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){var o=Math.pow(2,8*r-1);B(this,t,e,r,o-1,-o)}var i=r-1,s=1,a=0;for(this[e+i]=255&t;--i>=0&&(s*=256);)0>t&&0===a&&0!==this[e+i+1]&&(a=1),this[e+i]=(t/s>>0)-a&255;return e+r},i.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||B(this,t,e,1,127,-128),0>t&&(t=255+t+1),this[e]=255&t,e+1},i.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||B(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},i.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||B(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},i.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||B(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},i.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||B(this,t,e,4,2147483647,-2147483648),0>t&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},i.prototype.writeFloatLE=function(t,e,r){return M(this,t,e,!0,r)},i.prototype.writeFloatBE=function(t,e,r){return M(this,t,e,!1,r)},i.prototype.writeDoubleLE=function(t,e,r){return q(this,t,e,!0,r)},i.prototype.writeDoubleBE=function(t,e,r){return q(this,t,e,!1,r)},i.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&r>n&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(0>e)throw new RangeError("targetStart out of bounds");if(0>r||r>=this.length)throw new RangeError("sourceStart out of bounds");if(0>n)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var o,i=n-r;if(this===t&&e>r&&n>e)for(o=i-1;o>=0;--o)t[o+e]=this[o+r];else if(1e3>i)for(o=0;i>o;++o)t[o+e]=this[o+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+i),e);return i},i.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===t.length){var o=t.charCodeAt(0);256>o&&(t=o)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!i.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t=255&t);if(0>e||this.length<e||this.length<r)throw new RangeError("Out of range index");if(e>=r)return this;e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0);var s;if("number"==typeof t)for(s=e;r>s;++s)this[s]=t;else{var a=i.isBuffer(t)?t:new i(t,n),u=a.length;for(s=0;r-e>s;++s)this[s+e]=a[s%u]}return this};var Q=/[^+\/0-9A-Za-z-_]/g},{20:20,9:9}],12:[function(t,e){"use strict";e.exports=function(t){var e,r;if(!t)return 0;for(t=t.toString(),e=r=t.length;e--;){var n=t[e].charCodeAt();n>=56320&&57343>=n&&e--,n>127&&2047>=n?r++:n>2047&&65535>=n&&(r+=2)}return r}},{}],13:[function(t,e){"use strict";e.exports={Buffer:function(){}}},{}],14:[function(t,e){"use strict";e.exports={lookup:function(){}}},{}],15:[function(t,e){"use strict";function r(t){return t instanceof s}function n(t){return"function"==typeof t.pipe}function o(t){if("function"==typeof t.toJSON||t.constructor===Object||t.constructor===Array)return!0;try{return JSON.stringify(t),!0}catch(e){return!1}}var i=/^\s*</,s=t(13).Buffer,a=t(14).lookup;e.exports=function(t){if(null!=t&&"function"!=typeof t){if("object"==typeof t){if(r(t))return"application/octet-stream";if(n(t))return a(t.path)||"application/octet-stream";if(o(t))return"application/json; charset=UTF-8"}return"text/"+(i.test(String(t))?"html":"plain")+"; charset=UTF-8"}}},{13:13,14:14}],16:[function(t,e,r){"use strict";function n(t,e){if("string"!=typeof t)throw new TypeError("argument str must be a string");for(var r={},n=e||{},o=t.split(u),a=n.decode||s,h=0;h<o.length;h++){var f=o[h],c=f.indexOf("=");if(!(0>c)){var l=f.substr(0,c).trim(),p=f.substr(++c,f.length).trim();'"'==p[0]&&(p=p.slice(1,-1)),void 0==r[l]&&(r[l]=i(p,a))}}return r}function o(t,e,r){var n=r||{},o=n.encode||a;if("function"!=typeof o)throw new TypeError("option encode is invalid");if(!h.test(t))throw new TypeError("argument name is invalid");

var i=o(e);if(i&&!h.test(i))throw new TypeError("argument val is invalid");var s=t+"="+i;if(null!=n.maxAge){var u=n.maxAge-0;if(isNaN(u))throw new Error("maxAge should be a Number");s+="; Max-Age="+Math.floor(u)}if(n.domain){if(!h.test(n.domain))throw new TypeError("option domain is invalid");s+="; Domain="+n.domain}if(n.path){if(!h.test(n.path))throw new TypeError("option path is invalid");s+="; Path="+n.path}if(n.expires){if("function"!=typeof n.expires.toUTCString)throw new TypeError("option expires is invalid");s+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(s+="; HttpOnly"),n.secure&&(s+="; Secure"),n.sameSite){var f="string"==typeof n.sameSite?n.sameSite.toLowerCase():n.sameSite;switch(f){case!0:s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"strict":s+="; SameSite=Strict";break;default:throw new TypeError("option sameSite is invalid")}}return s}function i(t,e){try{return e(t)}catch(r){return t}}r.parse=n,r.serialize=o;var s=decodeURIComponent,a=encodeURIComponent,u=/; */,h=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/},{}],17:[function(t,e){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(t){return"function"==typeof t}function o(t){return"number"==typeof t}function i(t){return"object"==typeof t&&null!==t}function s(t){return void 0===t}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(t){if(!o(t)||0>t||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},r.prototype.emit=function(t){var e,r,o,a,u,h;if(this._events||(this._events={}),"error"===t&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;var f=new Error('Uncaught, unspecified "error" event. ('+e+")");throw f.context=e,f}if(r=this._events[t],s(r))return!1;if(n(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),r.apply(this,a)}else if(i(r))for(a=Array.prototype.slice.call(arguments,1),h=r.slice(),o=h.length,u=0;o>u;u++)h[u].apply(this,a);return!0},r.prototype.addListener=function(t,e){var o;if(!n(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,n(e.listener)?e.listener:e),this._events[t]?i(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,i(this._events[t])&&!this._events[t].warned&&(o=s(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,o&&o>0&&this._events[t].length>o&&(this._events[t].warned=!0,"function"==typeof console.trace)),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(t,e){function r(){this.removeListener(t,r),o||(o=!0,e.apply(this,arguments))}if(!n(e))throw TypeError("listener must be a function");var o=!1;return r.listener=e,this.on(t,r),this},r.prototype.removeListener=function(t,e){var r,o,s,a;if(!n(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(r=this._events[t],s=r.length,o=-1,r===e||n(r.listener)&&r.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(i(r)){for(a=s;a-->0;)if(r[a]===e||r[a].listener&&r[a].listener===e){o=a;break}if(0>o)return this;1===r.length?(r.length=0,delete this._events[t]):r.splice(o,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},r.prototype.removeAllListeners=function(t){var e,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[t],n(r))this.removeListener(t,r);else if(r)for(;r.length;)this.removeListener(t,r[r.length-1]);return delete this._events[t],this},r.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?n(this._events[t])?[this._events[t]]:this._events[t].slice():[]},r.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(n(e))return 1;if(e)return e.length}return 0},r.listenerCount=function(t,e){return t.listenerCount(e)}},{}],18:[function(t,e){(function(t){e.exports="undefined"!=typeof window?window:"undefined"!=typeof t?t:"undefined"!=typeof self?self:{}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],19:[function(t,e){"use strict";function r(t){if("string"!=typeof t)throw new TypeError("Header Fields must be strings.");return t=t.toLowerCase(),"referrer"===t&&(t="referer"),t}e.exports=r},{}],20:[function(t,e,r){r.read=function(t,e,r,n,o){var i,s,a=8*o-n-1,u=(1<<a)-1,h=u>>1,f=-7,c=r?o-1:0,l=r?-1:1,p=t[e+c];for(c+=l,i=p&(1<<-f)-1,p>>=-f,f+=a;f>0;i=256*i+t[e+c],c+=l,f-=8);for(s=i&(1<<-f)-1,i>>=-f,f+=n;f>0;s=256*s+t[e+c],c+=l,f-=8);if(0===i)i=1-h;else{if(i===u)return s?0/0:(p?-1:1)*(1/0);s+=Math.pow(2,n),i-=h}return(p?-1:1)*s*Math.pow(2,i-n)},r.write=function(t,e,r,n,o,i){var s,a,u,h=8*i-o-1,f=(1<<h)-1,c=f>>1,l=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:i-1,d=n?1:-1,g=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=f):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),e+=s+c>=1?l/u:l*Math.pow(2,1-c),e*u>=2&&(s++,u/=2),s+c>=f?(a=0,s=f):s+c>=1?(a=(e*u-1)*Math.pow(2,o),s+=c):(a=e*Math.pow(2,c-1)*Math.pow(2,o),s=0));o>=8;t[r+p]=255&a,p+=d,a/=256,o-=8);for(s=s<<o|a,h+=o;h>0;t[r+p]=255&s,p+=d,s/=256,h-=8);t[r+p-d]|=128*g}},{}],21:[function(t,e){(function(t){"use strict";function r(){}function n(t){var e=t.toLowerCase();return function(t){var r=typeof t;switch(r){case"object":case"function":return o.call(t)===s[e];default:return r===e}}}var o=Object.prototype.toString,i=t.Buffer||r,s={string:"[object String]",number:"[object Number]","boolean":"[object Boolean]",date:"[object Date]",regexp:"[object RegExp]",error:"[object Error]","function":"[object Function]",arguments:"[object Arguments]",object:"[object Object]",array:"[object Array]"};e.exports={string:n("String"),number:n("Number"),"boolean":n("Boolean"),date:n("Date"),regexp:n("RegExp"),error:n("Error"),"function":n("Function"),arguments:n("Arguments"),object:n("Object"),array:n("Array"),stream:function(t){return null!=t&&"function"==typeof t.pipe},buffer:function(t){return t instanceof i},empty:function(t){for(var e in t)return!1;return!0}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],22:[function(t,e){e.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},{}],23:[function(t,e){"use strict";function r(){var t=document.activeElement===document.body?s:document.activeElement;return s=null,t}var n=t(26),o=n.flat,i={INPUT:!0,TEXTAREA:!0,SELECT:!0,BUTTON:!0},s=null;window.addEventListener("click",function(t){if(!(t.defaultPrevented||t.metaKey||t.ctrlKey||t.shiftKey||0!==t.button)){for(var e=t.target;null!=e&&("BUTTON"!==e.nodeName||"submit"!==e.type);)e=e.parentNode;s=e}}),e.exports=function(t,e){if(!t||"FORM"!==t.nodeName)throw new Error("Can only parse form elements.");for(var s=e?o:n,a="multipart/form-data"===t.enctype,u=t.elements,h={},f=a?{}:void 0,c=0,l=u.length;l>c;c++){var p=u[c];if(!p.disabled&&p.name&&i[p.nodeName]){var d=p.name,g=p.options;switch(p.type){case"submit":p===r()&&s(h,d,p.value);break;case"checkbox":case"radio":p.checked&&s(h,d,p.value);break;case"select-one":p.selectedIndex>=0&&s(h,d,g[p.selectedIndex].value);break;case"select-multiple":for(var m,v=[],y=0,w=g.length;w>y;y++)m=g[y],m&&m.selected&&v.push(m.value);s(h,d,v);break;case"file":var b=p.files;if(a&&b)for(var E=0,x=b.length;x>E;E++)s(f,d,b[E]);break;default:s(h,d,p.value)}}}return{body:h,files:f}}},{26:26}],24:[function(t,e){function r(t,e){for(var r,n=[],o=0,i=0,s="",h=e&&e.delimiter||"/";null!=(r=v.exec(t));){var f=r[0],c=r[1],l=r.index;if(s+=t.slice(i,l),i=l+f.length,c)s+=c[1];else{var p=t[i],d=r[2],g=r[3],m=r[4],y=r[5],w=r[6],b=r[7];s&&(n.push(s),s="");var E=null!=d&&null!=p&&p!==d,x="+"===w||"*"===w,A="?"===w||"*"===w,_=r[2]||h,T=m||y;n.push({name:g||o++,prefix:d||"",delimiter:_,optional:A,repeat:x,partial:E,asterisk:!!b,pattern:T?u(T):b?".*":"[^"+a(_)+"]+?"})}}return i<t.length&&(s+=t.substr(i)),s&&n.push(s),n}function n(t,e){return s(r(t,e))}function o(t){return encodeURI(t).replace(/[\/?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function i(t){return encodeURI(t).replace(/[?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function s(t){for(var e=new Array(t.length),r=0;r<t.length;r++)"object"==typeof t[r]&&(e[r]=new RegExp("^(?:"+t[r].pattern+")$"));return function(r,n){for(var s="",a=r||{},u=n||{},h=u.pretty?o:encodeURIComponent,f=0;f<t.length;f++){var c=t[f];if("string"!=typeof c){var l,p=a[c.name];if(null==p){if(c.optional){c.partial&&(s+=c.prefix);continue}throw new TypeError('Expected "'+c.name+'" to be defined')}if(m(p)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received `'+JSON.stringify(p)+"`");if(0===p.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var d=0;d<p.length;d++){if(l=h(p[d]),!e[f].test(l))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received `'+JSON.stringify(l)+"`");s+=(0===d?c.prefix:c.delimiter)+l}}else{if(l=c.asterisk?i(p):h(p),!e[f].test(l))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+l+'"');s+=c.prefix+l}}else s+=c}return s}}function a(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function u(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function h(t,e){return t.keys=e,t}function f(t){return t.sensitive?"":"i"}function c(t,e){var r=t.source.match(/\((?!\?)/g);if(r)for(var n=0;n<r.length;n++)e.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return h(t,e)}function l(t,e,r){for(var n=[],o=0;o<t.length;o++)n.push(g(t[o],e,r).source);var i=new RegExp("(?:"+n.join("|")+")",f(r));return h(i,e)}function p(t,e,n){return d(r(t,n),e,n)}function d(t,e,r){m(e)||(r=e||r,e=[]),r=r||{};for(var n=r.strict,o=r.end!==!1,i="",s=0;s<t.length;s++){var u=t[s];if("string"==typeof u)i+=a(u);else{var c=a(u.prefix),l="(?:"+u.pattern+")";e.push(u),u.repeat&&(l+="(?:"+c+l+")*"),l=u.optional?u.partial?c+"("+l+")?":"(?:"+c+"("+l+"))?":c+"("+l+")",i+=l}}var p=a(r.delimiter||"/"),d=i.slice(-p.length)===p;return n||(i=(d?i.slice(0,-p.length):i)+"(?:"+p+"(?=$))?"),i+=o?"$":n&&d?"":"(?="+p+"|$)",h(new RegExp("^"+i,f(r)),e)}function g(t,e,r){return m(e)||(r=e||r,e=[]),r=r||{},t instanceof RegExp?c(t,e):m(t)?l(t,e,r):p(t,e,r)}var m=t(22);e.exports=g,e.exports.parse=r,e.exports.compile=n,e.exports.tokensToFunction=s,e.exports.tokensToRegExp=d;var v=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g")},{22:22}],25:[function(e,r,n){(function(e){!function(o){function i(t){throw new RangeError(j[t])}function s(t,e){for(var r=t.length,n=[];r--;)n[r]=e(t[r]);return n}function a(t,e){var r=t.split("@"),n="";r.length>1&&(n=r[0]+"@",t=r[1]),t=t.replace(U,".");var o=t.split("."),i=s(o,e).join(".");return n+i}function u(t){for(var e,r,n=[],o=0,i=t.length;i>o;)e=t.charCodeAt(o++),e>=55296&&56319>=e&&i>o?(r=t.charCodeAt(o++),56320==(64512&r)?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),o--)):n.push(e);return n}function h(t){return s(t,function(t){var e="";return t>65535&&(t-=65536,e+=M(t>>>10&1023|55296),t=56320|1023&t),e+=M(t)}).join("")}function f(t){return 10>t-48?t-22:26>t-65?t-65:26>t-97?t-97:A}function c(t,e){return t+22+75*(26>t)-((0!=e)<<5)}function l(t,e,r){var n=0;for(t=r?N(t/S):t>>1,t+=N(t/e);t>B*T>>1;n+=A)t=N(t/B);return N(n+(B+1)*t/(t+C))}function p(t){var e,r,n,o,s,a,u,c,p,d,g=[],m=t.length,v=0,y=L,w=R;for(r=t.lastIndexOf(k),0>r&&(r=0),n=0;r>n;++n)t.charCodeAt(n)>=128&&i("not-basic"),g.push(t.charCodeAt(n));for(o=r>0?r+1:0;m>o;){for(s=v,a=1,u=A;o>=m&&i("invalid-input"),c=f(t.charCodeAt(o++)),(c>=A||c>N((x-v)/a))&&i("overflow"),v+=c*a,p=w>=u?_:u>=w+T?T:u-w,!(p>c);u+=A)d=A-p,a>N(x/d)&&i("overflow"),a*=d;e=g.length+1,w=l(v-s,e,0==s),N(v/e)>x-y&&i("overflow"),y+=N(v/e),v%=e,g.splice(v++,0,y)}return h(g)}function d(t){var e,r,n,o,s,a,h,f,p,d,g,m,v,y,w,b=[];for(t=u(t),m=t.length,e=L,r=0,s=R,a=0;m>a;++a)g=t[a],128>g&&b.push(M(g));for(n=o=b.length,o&&b.push(k);m>n;){for(h=x,a=0;m>a;++a)g=t[a],g>=e&&h>g&&(h=g);for(v=n+1,h-e>N((x-r)/v)&&i("overflow"),r+=(h-e)*v,e=h,a=0;m>a;++a)if(g=t[a],e>g&&++r>x&&i("overflow"),g==e){for(f=r,p=A;d=s>=p?_:p>=s+T?T:p-s,!(d>f);p+=A)w=f-d,y=A-d,b.push(M(c(d+w%y,0))),f=N(w/y);b.push(M(c(f,0))),s=l(r,v,n==o),r=0,++n}++r,++e}return b.join("")}function g(t){return a(t,function(t){return O.test(t)?p(t.slice(4).toLowerCase()):t})}function m(t){return a(t,function(t){return I.test(t)?"xn--"+d(t):t})}var v="object"==typeof n&&n&&!n.nodeType&&n,y="object"==typeof r&&r&&!r.nodeType&&r,w="object"==typeof e&&e;(w.global===w||w.window===w||w.self===w)&&(o=w);var b,E,x=2147483647,A=36,_=1,T=26,C=38,S=700,R=72,L=128,k="-",O=/^xn--/,I=/[^\x20-\x7E]/,U=/[\x2E\u3002\uFF0E\uFF61]/g,j={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},B=A-_,N=Math.floor,M=String.fromCharCode;if(b={version:"1.4.1",ucs2:{decode:u,encode:h},decode:p,encode:d,toASCII:m,toUnicode:g},"function"==typeof t&&"object"==typeof t.amd&&t.amd)t("punycode",function(){return b});else if(v&&y)if(r.exports==v)y.exports=b;else for(E in b)b.hasOwnProperty(E)&&(v[E]=b[E]);else o.punycode=b}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],26:[function(t,e){"use strict";function r(t,e,r){for(var n,o,i,h,f=""===e?[""]:e.match(s),c=f.length,l=t,p=0;c>p;p++)o=l,n=f[p],i=f[p+1],"[]"===n&&(n=l.length),l=(h="object"==typeof l&&n in l)?l[n]:l[n]="[]"===i||a.test(i)?[]:{};return o[n]=h?u.concat(l,r):r,t}function n(t,e,r){return e=o(t,e),t[e]=e in t?u.concat(t[e],r):r,t}function o(t,e){var r=e.split("[]");if(1===r.length)return e;for(var n=r[0],o=Object.keys(t),s=1,a=r.length;a>s;s++)n+="["+i(o,n)+"]"+r[s];return n}function i(t,e){for(var r,n=-1,o=t.length;o--;)r=t[o],0===r.indexOf(e)&&(r=r.replace(e,""),r=r.slice(1,r.indexOf("]")),r>n&&(n=Number(r)));return n+1}var s=/[^\[\]]+|\[\]/g,a=/^\d+$/,u=[];r.flat=n,e.exports=r},{}],27:[function(t,e){"use strict";function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.exports=function(t,e,o,i){e=e||"&",o=o||"=";var s={};if("string"!=typeof t||0===t.length)return s;var a=/\+/g;t=t.split(e);var u=1e3;i&&"number"==typeof i.maxKeys&&(u=i.maxKeys);var h=t.length;u>0&&h>u&&(h=u);for(var f=0;h>f;++f){var c,l,p,d,g=t[f].replace(a,"%20"),m=g.indexOf(o);m>=0?(c=g.substr(0,m),l=g.substr(m+1)):(c=g,l=""),p=decodeURIComponent(c),d=decodeURIComponent(l),r(s,p)?n(s[p])?s[p].push(d):s[p]=[s[p],d]:s[p]=d}return s};var n=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{}],28:[function(t,e){"use strict";function r(t,e){if(t.map)return t.map(e);for(var r=[],n=0;n<t.length;n++)r.push(e(t[n],n));return r}var n=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};e.exports=function(t,e,s,a){return e=e||"&",s=s||"=",null===t&&(t=void 0),"object"==typeof t?r(i(t),function(i){var a=encodeURIComponent(n(i))+s;return o(t[i])?r(t[i],function(t){return a+encodeURIComponent(n(t))}).join(e):a+encodeURIComponent(n(t[i]))}).join(e):a?encodeURIComponent(n(a))+s+encodeURIComponent(n(t)):""};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},i=Object.keys||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.push(r);return e}},{}],29:[function(t,e,r){"use strict";r.decode=r.parse=t(27),r.encode=r.stringify=t(28)},{27:27,28:28}],30:[function(t,e){e.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",306:"(Unused)",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},{}],31:[function(t,e){"use strict";function r(t,e){var r=[];return Object.keys(e).forEach(function(n){var o=e[n],i=Number(n);t[i]=o,t[o]=i,t[o.toLowerCase()]=i,r.push(i)}),r}function n(t){if("number"==typeof t){if(!n[t])throw new Error("invalid status code: "+t);return t}if("string"!=typeof t)throw new TypeError("code must be a number or string");var e=parseInt(t,10);if(!isNaN(e)){if(!n[e])throw new Error("invalid status code: "+e);return e}if(e=n[t.toLowerCase()],!e)throw new Error('invalid status message: "'+t+'"');return e}var o=t(30);e.exports=n,n.codes=r(n,o),n.redirect={300:!0,301:!0,302:!0,303:!0,305:!0,307:!0,308:!0},n.empty={204:!0,205:!0,304:!0},n.retry={502:!0,503:!0,504:!0}},{30:30}],32:[function(t,e,r){"use strict";function n(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function o(t,e,r){if(t&&h.isObject(t)&&t instanceof n)return t;var o=new n;return o.parse(t,e,r),o}function i(t){return h.isString(t)&&(t=o(t)),t instanceof n?t.format():n.prototype.format.call(t)}function s(t,e){return o(t,!1,!0).resolve(e)}function a(t,e){return t?o(t,!1,!0).resolveObject(e):e}var u=t(25),h=t(33);r.parse=o,r.resolve=s,r.resolveObject=a,r.format=i,r.Url=n;var f=/^([a-z0-9.+-]+:)/i,c=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,p=["<",">",'"',"`"," ","\r","\n","	"],d=["{","}","|","\\","^","`"].concat(p),g=["'"].concat(d),m=["%","/","?",";","#"].concat(g),v=["/","?","#"],y=255,w=/^[+a-z0-9A-Z_-]{0,63}$/,b=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,E={javascript:!0,"javascript:":!0},x={javascript:!0,"javascript:":!0},A={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},_=t(29);n.prototype.parse=function(t,e,r){if(!h.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),o=-1!==n&&n<t.indexOf("#")?"?":"#",i=t.split(o),s=/\\/g;i[0]=i[0].replace(s,"/"),t=i.join(o);var a=t;if(a=a.trim(),!r&&1===t.split("#").length){var c=l.exec(a);if(c)return this.path=a,this.href=a,this.pathname=c[1],c[2]?(this.search=c[2],this.query=e?_.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var p=f.exec(a);if(p){p=p[0];var d=p.toLowerCase();this.protocol=d,a=a.substr(p.length)}if(r||p||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var T="//"===a.substr(0,2);!T||p&&x[p]||(a=a.substr(2),this.slashes=!0)}if(!x[p]&&(T||p&&!A[p])){for(var C=-1,S=0;S<v.length;S++){var R=a.indexOf(v[S]);-1!==R&&(-1===C||C>R)&&(C=R)}var L,k;k=-1===C?a.lastIndexOf("@"):a.lastIndexOf("@",C),-1!==k&&(L=a.slice(0,k),a=a.slice(k+1),this.auth=decodeURIComponent(L)),C=-1;for(var S=0;S<m.length;S++){var R=a.indexOf(m[S]);-1!==R&&(-1===C||C>R)&&(C=R)}-1===C&&(C=a.length),this.host=a.slice(0,C),a=a.slice(C),this.parseHost(),this.hostname=this.hostname||"";var O="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!O)for(var I=this.hostname.split(/\./),S=0,U=I.length;U>S;S++){var j=I[S];if(j&&!j.match(w)){for(var B="",N=0,M=j.length;M>N;N++)B+=j.charCodeAt(N)>127?"x":j[N];if(!B.match(w)){var q=I.slice(0,S),P=I.slice(S+1),H=j.match(b);H&&(q.push(H[1]),P.unshift(H[2])),P.length&&(a="/"+P.join(".")+a),this.hostname=q.join(".");break}}}this.hostname=this.hostname.length>y?"":this.hostname.toLowerCase(),O||(this.hostname=u.toASCII(this.hostname));var F=this.port?":"+this.port:"",D=this.hostname||"";this.host=D+F,this.href+=this.host,O&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==a[0]&&(a="/"+a))}if(!E[d])for(var S=0,U=g.length;U>S;S++){var z=g[S];if(-1!==a.indexOf(z)){var K=encodeURIComponent(z);K===z&&(K=escape(z)),a=a.split(z).join(K)}}var $=a.indexOf("#");-1!==$&&(this.hash=a.substr($),a=a.slice(0,$));var V=a.indexOf("?");if(-1!==V?(this.search=a.substr(V),this.query=a.substr(V+1),e&&(this.query=_.parse(this.query)),a=a.slice(0,V)):e&&(this.search="",this.query={}),a&&(this.pathname=a),A[d]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var F=this.pathname||"",G=this.search||"";this.path=F+G}return this.href=this.format(),this},n.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",o=!1,i="";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&h.isObject(this.query)&&Object.keys(this.query).length&&(i=_.stringify(this.query));var s=this.search||i&&"?"+i||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||A[e])&&o!==!1?(o="//"+(o||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):o||(o=""),n&&"#"!==n.charAt(0)&&(n="#"+n),s&&"?"!==s.charAt(0)&&(s="?"+s),r=r.replace(/[?#]/g,function(t){return encodeURIComponent(t)}),s=s.replace("#","%23"),e+o+r+s+n},n.prototype.resolve=function(t){return this.resolveObject(o(t,!1,!0)).format()},n.prototype.resolveObject=function(t){if(h.isString(t)){var e=new n;e.parse(t,!1,!0),t=e}for(var r=new n,o=Object.keys(this),i=0;i<o.length;i++){var s=o[i];r[s]=this[s]}if(r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var a=Object.keys(t),u=0;u<a.length;u++){var f=a[u];"protocol"!==f&&(r[f]=t[f])}return A[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!A[t.protocol]){for(var c=Object.keys(t),l=0;l<c.length;l++){var p=c[l];r[p]=t[p]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||x[t.protocol])r.pathname=t.pathname;else{for(var d=(t.pathname||"").split("/");d.length&&!(t.host=d.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),r.pathname=d.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var g=r.pathname||"",m=r.search||"";r.path=g+m}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var v=r.pathname&&"/"===r.pathname.charAt(0),y=t.host||t.pathname&&"/"===t.pathname.charAt(0),w=y||v||r.host&&t.pathname,b=w,E=r.pathname&&r.pathname.split("/")||[],d=t.pathname&&t.pathname.split("/")||[],_=r.protocol&&!A[r.protocol];if(_&&(r.hostname="",r.port=null,r.host&&(""===E[0]?E[0]=r.host:E.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===d[0]?d[0]=t.host:d.unshift(t.host)),t.host=null),w=w&&(""===d[0]||""===E[0])),y)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,E=d;else if(d.length)E||(E=[]),E.pop(),E=E.concat(d),r.search=t.search,r.query=t.query;else if(!h.isNullOrUndefined(t.search)){if(_){r.hostname=r.host=E.shift();var T=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;T&&(r.auth=T.shift(),r.host=r.hostname=T.shift())}return r.search=t.search,r.query=t.query,h.isNull(r.pathname)&&h.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!E.length)return r.pathname=null,r.path=r.search?"/"+r.search:null,r.href=r.format(),r;for(var C=E.slice(-1)[0],S=(r.host||t.host||E.length>1)&&("."===C||".."===C)||""===C,R=0,L=E.length;L>=0;L--)C=E[L],"."===C?E.splice(L,1):".."===C?(E.splice(L,1),R++):R&&(E.splice(L,1),R--);if(!w&&!b)for(;R--;R)E.unshift("..");!w||""===E[0]||E[0]&&"/"===E[0].charAt(0)||E.unshift(""),S&&"/"!==E.join("/").substr(-1)&&E.push("");var k=""===E[0]||E[0]&&"/"===E[0].charAt(0);if(_){r.hostname=r.host=k?"":E.length?E.shift():"";var T=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;T&&(r.auth=T.shift(),r.host=r.hostname=T.shift())}return w=w||r.host&&E.length,w&&!k&&E.unshift(""),E.length?r.pathname=E.join("/"):(r.pathname=null,r.path=null),h.isNull(r.pathname)&&h.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},n.prototype.parseHost=function(){var t=this.host,e=c.exec(t);e&&(e=e[0],":"!==e&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},{25:25,29:29,33:33}],33:[function(t,e){"use strict";e.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},{}],34:[function(t,e){"use strict";function r(t,e){this.req=new o(this,t),this.res=new i(this,e),this.fail=this.fail.bind(this),this.assert=this.assert.bind(this),this.locals={}}var n=t(2),o=t(36),i=t(38);e.exports=r;var s=r.prototype;s.fail=function(t,e,r){if("number"!=typeof t)throw new TypeError("Rill#ctx.fail: Status code must be a number.");var o=new n(t,e,r);throw this.res.status=o.code,this.res.message=o.message,o},s.assert=function(t,e,r,n){if("number"!=typeof e)throw new TypeError("Rill#ctx.assert: Status code must be a number.");t||this.fail(e,r,n)}},{2:2,36:36,38:38}],35:[function(t,e){(function(r){"use strict";function n(){return this instanceof n?void(this.stack=[]):new n}function o(t,e,r){var n=p(t),o=n[n.length-1];o&&o.asterisk&&(o.optional=!0);var i=d(n,r);i.keys=e;for(var s=0,a=n.length;a>s;s++)"object"==typeof n[s]&&e.push(n[s]);return i}var i=t(24),s=t(5),a=t(8),u=t(1),h=t(2),f=t(34),c=t(37),l=r.browser&&t(3),p=i.parse,d=i.tokensToRegExp,g=Array.prototype.slice,m=n.prototype;e.exports=n["default"]=n,m.handler=function(){var t=u(this.stack);return function(e,r){function n(t){404===Number(i.res.status)&&(i.res.status=500),t instanceof h||console&&console.error&&void 0}function o(){c(i)}r.statusCode=404;var i=new f(e,r);t(i)["catch"](n).then(o)}},m.createServer=function(t){var e=this.handler(),n=t?a.createServer(t,e):s.createServer(e);return r.browser&&l(n),n},m.listen=function(t,e){return"function"==typeof t&&(e=t,t=null),t=t||{},t.port=null!=t.port?t.port:0,this.createServer(t.tls).listen(t.port,t.ip,t.backlog,e)},m.use=function(){for(var t=this.stack.length,e=this.stack.length+=arguments.length,r=e;t<r--;)this.stack[r]=arguments[r-t];return this},m.setup=function(){for(var t,e=arguments.length,r=0;e>r;r++)if(t=arguments[r]){if("function"!=typeof t)throw new TypeError("Rill#setup: Setup must be a function or falsey.");t(this)}return this},m.at=function(t){if("string"!=typeof t)throw new TypeError("Rill#at: Path name must be a string.");var e=[],r=o(t,e,{end:!1,delimiter:"/"}),n=u(g.call(arguments,1));return this.use(function(t,o){var i=t.req.matchPath,s=i.match(r);if(!s||s[0]!==i)return o();for(var a,u,h=e.length;h--;)a=e[h],u=s[h+1],a.repeat&&(u=null==u?[]:u.split("/")),t.req.params[a.name]=u;var f=s[s.length-1]||"";return t.req.matchPath!==f&&(t.req.matchPath="/"+f),n(t,function(){return t.req.matchPath=i,o()})})},m.host=function(t){if("string"!=typeof t)throw new TypeError("Rill#host: Host name must be a string.");var e=[],r=o(t,e,{strict:!0,delimiter:"."}),n=u(g.call(arguments,1));return this.use(function(t,o){var i=t.req.matchHost,s=i.match(r);if(!s||s[0]!==i)return o();for(var a,u,h=e.length;h--;)a=e[h],u=s[h+1],a.repeat&&(u=null==u?[]:u.split(".")),t.req.subdomains[a.name]=u;var f=s[s.length-1]||"";return t.req.matchHost!==f&&(t.req.matchHost=f),n(t,function(){return t.req.matchHost=i,o()})})},s.METHODS.forEach(function(t){var e=t.toLowerCase();m[e]=function(e){function r(e,r){return e.req.method!==t?r():o(e,r)}var n="string"==typeof e?1:0,o=u(g.call(arguments,n));return 1===n?this.at(e,r):this.use(r)}})}).call(this,t(10))},{1:1,10:10,2:2,24:24,3:3,34:34,37:37,5:5,8:8}],36:[function(t,e){(function(r){"use strict";function n(t,e){var n=e.connection.encrypted?"https":"http",u=r.browser?e._request.parsed:o.parse(n+"://"+e.headers.host+e.url),h=n+"://"+u.host;this.ctx=t,this.original=e,this.method=e.method,this.headers=e.headers,this.cookies=this.headers.cookie?a.parse(this.headers.cookie):{},this.params={},this.href=u.href,this.protocol=n,this.port=u.port,this.host=u.host,this.hostname=this.matchHost=u.hostname,this.path=u.path,this.pathname=this.matchPath=u.pathname,this.search=u.search,this.hash=u.hash,this.query={},this.origin=h,this.secure="https"===n,this.subdomains=String(this.hostname).split(".").reverse().slice(2),this.ip=e.connection.remoteAddress||e.socket.remoteAddress||e.connection.socket&&e.connection.socket.remoteAddress;var f=u.query=i.parse(u.query);for(var c in f)s(this.query,c,f[c])}var o=t(32),i=t(29),s=t(26),a=t(16),u=t(19);e.exports=n;var h=n.prototype;h.get=function(t){return this.headers[u(t)]}}).call(this,t(10))},{10:10,16:16,19:19,26:26,29:29,32:32}],37:[function(t,e){"use strict";function r(t){var e=t.req,r=t.res,u=r.body,h=r.original,f=a.stream(u),c=a.buffer(u);r.respond!==!1&&(h.headersSent||(404===Number(r.status)&&(r.get("Location")?r.status=302:u&&(r.status=200)),r.message=r.message||s[r.status],"HEAD"===e.method||s.empty[r.status]||!u?(u=null,r.remove("Content-Type"),r.remove("Content-Length")):(r.get("Content-Type")||r.set("Content-Type",i(u)),"object"!=typeof u||f||c||(u=JSON.stringify(u)),r.get("Content-Length")||f||r.set("Content-Length",o(u))),h.writeHead(r.status,r.message,n(r.headers)),r.end!==!1&&(f?u.pipe(h):h.end(u))))}function n(t){for(var e in t)(null==t[e]||0===t[e].length)&&delete t[e];return t}var o=t(12),i=t(15),s=t(31),a=t(21);e.exports=r},{12:12,15:15,21:21,31:31}],38:[function(t,e){"use strict";function r(t,e){this.ctx=t,this.original=e,this.status=e.statusCode,this.body=void 0,this.headers={},e.once("finish",function(){t.res.finished=!0})}var n=t(32),o=t(16),i=t(31),s=t(19);e.exports=r;var a=r.prototype;a.cookie=function(t,e,r){this.append("Set-Cookie",o.serialize(t,e,r))},a.clearCookie=function(t,e){e=e||{},e.expires=new Date,this.append("Set-Cookie",o.serialize(t,"",e))},a.redirect=function(t,e){var r=this.ctx.req;if(t="back"===t?r.get("Referrer"):t,t=t||e,!t)throw new TypeError("Rill#ctx.res.redirect: Cannot redirect, url not specified and alternative not provided.");i.redirect[this.status]||(this.status=302),this.set("Location",n.resolve(r.href,t))},a.refresh=function(t,e,r){var o=this.ctx.req;t=t||0,e="back"===e?o.get("Referrer"):e,e=e||r||o.href,this.set("Refresh",t+"; url="+n.resolve(o.href,e));

},a.get=function(t){return this.headers[s(t)]},a.set=function(t,e){this.headers[s(t)]=e},a.append=function(t,e){t=s(t);var r=this.headers,n=this.headers[t];null==n?n=[]:Array.isArray(n)||(n=[n]),r[t]=n.concat(e)},a.remove=function(t){delete this.headers[s(t)]}},{16:16,19:19,31:31,32:32}]},{},[35])(35)});